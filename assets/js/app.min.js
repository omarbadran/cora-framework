"use strict";var CoraFramework={el:"#cf",data:{nonce:CoraFrameworkData.nonce,config:CoraFrameworkData.config,sections:CoraFrameworkData.sections,fields:CoraFrameworkData.fields,values:CoraFrameworkData.values,translation:CoraFrameworkData.translation,activeSection:CoraFrameworkData.sections[0].id,initialized:!1,loading:!1,alert:!1},methods:{showField:function showField(field){var vm=this,res=!0;if(field.section!==vm.activeSection)return!1;if(field.condition)if(Array.isArray(field.condition[0]))for(var index=0;index<field.condition.length;index++){var compareValues=field.condition[index][2],targets=vm.values[field.section][field.condition[index][0]],subres=eval("compareValues ".concat(field.condition[index][1]," targets"));if(res=subres,0==subres)break}else{var compareValue=field.condition[2],target=vm.values[field.section][field.condition[0]];res=eval("compareValue ".concat(field.condition[1]," target"))}return res},showAlert:function(e,a){var i=this;i.alert={},i.alert.style=e,i.alert.message=a,setTimeout(function(){i.alert=!1},3e3)},save:function(e){var a,i=this;i.loading=!0,a=e.data?e.data:i.values;var t={action:"cora_save",security:i.nonce,data:a};$.ajax({type:"POST",data:t,dataType:"json",url:ajaxurl,success:function(){i.loading=!1,i.showAlert("success",i.translation.data_saved),"function"==typeof e.success&&e.success()},error:function(){i.loading=!1,i.showAlert("warning",i.translation.error),"function"==typeof e.error&&e.error()}})}},computed:{activeSectionTitle:function(){var a=this.activeSection;return this.sections.find(function(e){return e.id==a}).title}},mounted:function(){this.initialized=!0}};jQuery(document).ready(function(e){CoraFramework=new Vue(CoraFramework)});